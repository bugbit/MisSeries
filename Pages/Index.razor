@page "/"
@inject NavigationManager NavigationManager

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

clientId:
<InputText @bind-Value="clientId" />
<button @onclick="Authenticate">Authenticate</button>

<SurveyPrompt Title="How is Blazor working for you?" />

@code
{
    string clientId = "";
    //string clientSecret = "";

    void Authenticate()
    {
        var baseuri = NavigationManager.BaseUri;
        var uri = NavigationManager.GetUriWithQueryParameters
        (
        "https://trakt.tv/oauth/authorize",
        new Dictionary<string, object?>
            {
                ["client_id"] = clientId,
                ["redirect_uri"] = baseuri,
                ["response_type"] = "code"
            }
        );

        NavigationManager.NavigateTo(uri, true);
    }
}